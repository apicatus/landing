doctype html
html(ng-app="Landing", lang="en", prefix='og: http://ogp.me/ns#')
    head
        title Apicatus
        meta(charset='utf-8')
        meta(name='description', content='Apicatus is a tool designed to mock, test, analyze and monitor APIs')
        meta(name='viewport', content='width=device-width, initial-scale=1.0')
        meta(name='author', content='Apicatus')
        link(rel='icon', type='image/png', href='images/logo.png')
        link(rel='apple-touch-icon-precomposed', sizes='144x144', href='images/apple-touch-icon-144-precomposed.png')
        link(rel='apple-touch-icon-precomposed', sizes='114x114', href='images/apple-touch-icon-114-precomposed.png')
        link(rel='apple-touch-icon-precomposed', sizes='72x72', href='images/apple-touch-icon-72-precomposed.png')
        link(rel='apple-touch-icon-precomposed', href='images/apple-touch-icon-57-precomposed.png')
        link(rel='stylesheet', type='text/css', href='//fonts.googleapis.com/css?family=Raleway:100,700,400,500,600')
        //link(rel="stylesheet", href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css")
        link(rel="stylesheet", href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css")
        link(rel='stylesheet', type='text/css', href='css/icons.css')
        link(rel='stylesheet', type='text/css', href='css/base.css')

    body(ng-controller="MainCtrl as main")#body
        div#wrapper
            include ./nav.jade
            include ./home.jade
            include ./footer.jade

        script(src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js")
        // lodash
        script(src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js")
        // angular
        script(src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.0/angular.js")
        // ui-bootstrap
        script(src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.11.2/ui-bootstrap-tpls.min.js")
        script(src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.11.2/ui-bootstrap.min.js")
        // ng-animate
        script(src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.0/angular-animate.min.js")
        // ui-router
        script(src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.11/angular-ui-router.min.js")
        // ui-utils
        script(src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-utils/0.1.1/angular-ui-utils.min.js")
        // restangular
        script(src="//cdnjs.cloudflare.com/ajax/libs/restangular/1.4.0/restangular.min.js")

        script(type='text/javascript', src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js')
        script(type='text/javascript', src='//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.js')
        script(type='text/javascript', src='js/modernizr.js')
        script(type='text/javascript', src='js/scripts.js')
        script.
            var Landing = angular.module('Landing', [
                'ui.bootstrap',
                'ui.bootstrap.tpls',
                'ui.router',
                'ui.utils',
                'ngAnimate',
                'restangular'
            ]);
            Landing.run(['$rootScope', '$state', 'Restangular', function($rootScope, $state, Restangular) {

                $rootScope.user = {
                    name: 'Eltiro',
                }
                Restangular.oneUrl('user', 'http://api.apicat.us:8070/user/signin').customPOST({username: 'admin', password: 'admin'}).then(function(response){
                    console.log(response)
                });

            }]);
            Landing.config(['$stateProvider', '$urlRouterProvider', 'RestangularProvider', function($stateProvider, $urlRouterProvider, RestangularProvider) {
                RestangularProvider.setRestangularFields({
                    id: '_id'
                });
                RestangularProvider.setDefaultHeaders({
                    'Content-Type': 'application/json'
                });
                $urlRouterProvider.otherwise('/');
                $stateProvider
                    .state('home', {
                        url: '/',
                        views: {
                            'main': {
                                templateUrl: 'home.html',
                                controller: 'HomeCtrl as home'
                            },
                            'login': {
                                templateUrl: 'login.html',
                                controller: 'LoginCtrl as login'
                            }
                        }
                    });

            }]);
            Landing.controller('HomeCtrl', ['$scope', function($scope){
            }]);
            Landing.controller('LoginCtrl', ['$scope', function($scope){
                console.log('LoginCtrl');

                this.state = 'continue';
                this.recover = function() {
                    this.state = 'recover';
                };

            }]);
            Landing.controller('MainCtrl', ['$scope', function($scope) {
                console.log("started")
            }]);
        script.
            Modernizr.load([{
                test: Modernizr.mq('only screen and (min-width: 800px)'),
                yep: ['js/skrollr.js']
            }]);
            $(".nav-btn").click(function () {
                $('input[type=checkbox]').removeAttr('checked');
            });
